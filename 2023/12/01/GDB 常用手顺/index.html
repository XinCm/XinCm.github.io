<div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-12-01T06:02:04.070Z" title="12/1/2023, 2:02:04 PM">2023-12-01</time>发表</span><span class="level-item"><time dateTime="2023-12-01T06:02:04.070Z" title="12/1/2023, 2:02:04 PM">2023-12-01</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">开发工具</a></span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">GDB 常用手顺</h1><div class="content"><blockquote>
<p>GDB usage</p>
</blockquote>
<span id="more"></span>

<h2 id="GDB-常用手顺"><a href="#GDB-常用手顺" class="headerlink" title="GDB 常用手顺"></a>GDB 常用手顺</h2><ol>
<li><h3 id="编译程序-gcc-编译时-加上-g-调试选项"><a href="#编译程序-gcc-编译时-加上-g-调试选项" class="headerlink" title="编译程序, gcc 编译时 加上-g 调试选项"></a>编译程序, gcc 编译时 加上-g 调试选项</h3><blockquote>
<p>gcc -g  main.c -o main.o</p>
</blockquote>
</li>
<li><h3 id="启动gdb"><a href="#启动gdb" class="headerlink" title="启动gdb"></a>启动gdb</h3><blockquote>
<p>gdb main.o</p>
</blockquote>
</li>
<li><h3 id="设置断点"><a href="#设置断点" class="headerlink" title="设置断点"></a>设置断点</h3><blockquote>
<p>(gdb) break main </p>
<p>&#x2F;&#x2F; 这会在 <code>main</code> 函数的开始处设置一个断点。也可以在特定的行号或函数上设置断点。</p>
</blockquote>
</li>
<li><h3 id="启动程序"><a href="#启动程序" class="headerlink" title="启动程序"></a>启动程序</h3><blockquote>
<p>(gdb) run</p>
<p>&#x2F;&#x2F;程序将开始执行并在达到第一个断点时停止。</p>
</blockquote>
</li>
<li><h3 id="单步执行和检查"><a href="#单步执行和检查" class="headerlink" title="单步执行和检查"></a>单步执行和检查</h3><blockquote>
<ul>
<li><code>next</code>（或 <code>n</code>）：执行下一行代码，但不进入函数内部。</li>
<li><code>step</code>（或 <code>s</code>）：执行下一行代码，如果是函数则进入函数内部。</li>
<li><code>print</code>（或 <code>p</code>）：打印变量的值或表达式的结果。</li>
<li><code>info locals</code>：显示当前函数的局部变量。</li>
<li><code>info args</code>：显示当前函数的参数。</li>
</ul>
</blockquote>
</li>
<li><h3 id="继续执行"><a href="#继续执行" class="headerlink" title="继续执行"></a>继续执行</h3><p>如果您想继续执行到下一个断点，使用：</p>
<blockquote>
<p>(gdb) continue</p>
</blockquote>
</li>
<li><h3 id="退出GDB"><a href="#退出GDB" class="headerlink" title="退出GDB"></a>退出GDB</h3><blockquote>
<p>(gdb) quit </p>
</blockquote>
</li>
<li><h3 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h3><blockquote>
<p>run：简记为 r ，其作用是运行程序，当遇到断点后，程序会在断点处停止运行，等待用户输入下一步的命令。 </p>
<p>continue （简写c ）：继续执行，到下一个断点处（或运行结束） </p>
<p>next：（简写 n），单步跟踪程序，当遇到函数调用时，也不进入此函数体；此命令同 step 的主要区别是，step 遇到用户自定义的函数，将步进到函数中去运行，而 next 则直接调用函数，不会进入到函数体内。 </p>
<p>step （简写s）：单步调试如果有函数调用，则进入函数；与命令n不同，n是不进入调用的函数的 </p>
<p>until：当你厌倦了在一个循环体内单步跟踪时，这个命令可以运行程序直到退出循环体。 </p>
<p>until+行号： 运行至某行，不仅仅用来跳出循环 finish： 运行程序，直到当前函数完成返回，并打印函数返回时的堆栈地址及参数值等信息。</p>
<p>call 函数(参数)：调用程序中可见的函数，并传递“参数”，如：call gdb_test(55) quit：简记为 q ，退出gdb</p>
<hr>
<p>print a : 打印变量a的值</p>
<p>print &amp;a : 打印变量a的地址</p>
<p>watch 表达式：设置一个监视点，一旦被监视的“表达式”的值改变，gdb将强行终止正在被调试的程序。如： 				watch a</p>
<hr>
<p>list ：简记为 l ，其作用就是列出程序的源代码，默认每次显示10行。 </p>
<p>list 行号：将显示当前文件以“行号”为中心的前后10行代码，如：list 12 </p>
<p>list 函数名：将显示“函数名”所在函数的源代码，如：list main</p>
<p>list ：不带参数，将接着上一次 list 命令的，输出下边的内容</p>
<hr>
<p>break n （简写b n）:在第n行处设置断点 （可以带上代码路径和代码名称： b OAGUPDATE.cpp:578）</p>
<p>b fn1 if a＞b：条件断点设置 </p>
<p>break func（break缩写为b）：在函数func()的入口处设置断点，如：break cb_button </p>
<p>delete 断点号n：删除第n个断点 </p>
<p>disable 断点号n：暂停第n个断点 </p>
<p>enable 断点号n：开启第n个断点 </p>
<p>clear 行号n：清除第n行的断点 </p>
<p>info b （info breakpoints） ：显示当前程序的断点设置情况 </p>
<p>delete breakpoints：清除所有断点：</p>
</blockquote>
</li>
</ol>
</div><div class="article-licensing box"><div class="licensing-title"><p>GDB 常用手顺</p><p><a href="http://example.com/2023/12/01/GDB 常用手顺/">http://example.com/2023/12/01/GDB 常用手顺/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>lx</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2023-12-01</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-12-01</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2023/12/01/bootchart%E4%BD%BF%E7%94%A8%E6%89%8B%E9%A1%BA/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">BootChart使用手顺</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2023/12/01/D-Bus%20%E4%BB%8B%E7%BB%8D&amp;%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"><span class="level-item">D-Bus_介绍&amp;工具使用</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/valine/1.4.16/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread',
            appId: "dB8Dj4QSAc3XtpuM6sS4fCKR-gzGzoHsz",
            appKey: "xrxrySOXhneb2IHjGP1lHSx3",
            
            avatar: "mm",
            avatarForce: false,
            meta: ["nick","mail","link"],
            pageSize: 10,
            lang: "zh-CN",
            visitor: false,
            highlight: true,
            recordIP: false,
            
            
            
            enableQQ: false,
            requiredFields: [],
        });</script></div></div>