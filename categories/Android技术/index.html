<div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">分类</a></li><li class="is-active"><a href="#" aria-current="page">Android技术</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-04T07:53:59.712Z" title="1/4/2024, 3:53:59 PM">2024-01-04</time>发表</span><span class="level-item"><time dateTime="2024-01-04T07:53:59.712Z" title="1/4/2024, 3:53:59 PM">2024-01-04</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android%E6%8A%80%E6%9C%AF/">Android技术</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/01/04/device.mk/">android 下device.mk</a></p><div class="content"><h3 id="device-mk在Android中用于定义特定设备或特定产品的编译、链接、打包"><a href="#device-mk在Android中用于定义特定设备或特定产品的编译、链接、打包" class="headerlink" title="device.mk在Android中用于定义特定设备或特定产品的编译、链接、打包"></a><code>device.mk</code>在Android中用于定义特定设备或特定产品的<code>编译、链接、打包</code></h3></div><a class="article-more button is-small is-size-7" href="/2024/01/04/device.mk/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-03T06:01:22.112Z" title="1/3/2024, 2:01:22 PM">2024-01-03</time>发表</span><span class="level-item"><time dateTime="2024-01-03T06:01:22.112Z" title="1/3/2024, 2:01:22 PM">2024-01-03</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android%E6%8A%80%E6%9C%AF/">Android技术</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/01/03/HAL_Project_Treble/">Treble Hal</a></p><div class="content"><h1 id="ANDROID-HAL-Project-Treble"><a href="#ANDROID-HAL-Project-Treble" class="headerlink" title="ANDROID HAL- Project Treble"></a>ANDROID HAL- <strong>Project Treble</strong></h1><h2 id="1-HAL至今有四种架构"><a href="#1-HAL至今有四种架构" class="headerlink" title="1. HAL至今有四种架构"></a>1. HAL至今有四种架构</h2><blockquote>
<ul>
<li>Treble Project 之前使用的实现架构,使用传统 HAL 和旧版 HAL</li>
<li>直通式（passthrough mode）：Framework 和 HAL 层工作在同一个进程当中</li>
<li>绑定式（binderized mode）：直通式 HAL binder 化，变为绑定式 HAL。Framework 和 HAL 层工作在不同的进程，之间通过 Binder 进行 IPC</li>
<li>纯绑定式 ：相对于<strong>绑定式</strong>来说，绑定式 HAL 中并不包含直通式 HAL，因此称为纯绑定式</li>
</ul>
</blockquote></div><a class="article-more button is-small is-size-7" href="/2024/01/03/HAL_Project_Treble/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-01-02T09:26:21.055Z" title="1/2/2024, 5:26:21 PM">2024-01-02</time>发表</span><span class="level-item"><time dateTime="2024-01-02T09:26:21.055Z" title="1/2/2024, 5:26:21 PM">2024-01-02</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android%E6%8A%80%E6%9C%AF/">Android技术</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/01/02/VINTF/">Android-vintf</a></p><div class="content"><h1 id="VINTF"><a href="#VINTF" class="headerlink" title="VINTF"></a>VINTF</h1><p><a target="_blank" rel="noopener" href="https://source.android.com/docs/core/architecture?hl=zh-cn">https://source.android.com/docs/core/architecture?hl=zh-cn</a></p>
<blockquote>
<p>Vendor Interface Object的缩写，即厂商接口对象。<br>android 8.0分离system和<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=vendor&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22article%22,%22sourceId%22:%22661008492%22%7D">vendor</a>分区的机制之一，用来检查system和vendor依赖是否匹配。</p>
</blockquote>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>主要有<strong>两对 manifest 和 matrix</strong>，这两对清单和矩阵必须在 OTA 时进行协调，以确保设备可以获取与设备功能兼容的框架更新。Manifest 和 Matrix 在OTA升级前会进行匹配检查，以确保framework和device是兼容的。总的来说，manifest是提供端，matrix是需求端。</p></div><a class="article-more button is-small is-size-7" href="/2024/01/02/VINTF/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-11-30T09:27:44.013Z" title="11/30/2023, 5:27:44 PM">2023-11-30</time>发表</span><span class="level-item"><time dateTime="2023-11-30T09:27:44.013Z" title="11/30/2023, 5:27:44 PM">2023-11-30</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android%E6%8A%80%E6%9C%AF/">Android技术</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/11/30/ANDROID%20property%20%E5%8F%82%E6%95%B0%E7%AE%80%E4%BB%8B/">Android Property参数简介</a></p><div class="content"><p><a name="3060-1621846615933"></a>在系统初始化时，Android将分配一块共享内存来存储property。这是在“init”守护进程中完成的，其源代码位于：device&#x2F;system&#x2F;init。“init”守护进程将启动PropertyService。</p>
<p><a name="qpdj-1679278003424"></a>属性服务正在“init”守护进程中运行。每个想要设置属性的客户端都需要连接到属性服务并向属性服务发送消息。属性服务将在共享内存中更新&#x2F;创建属性。任何想要获取属性的客户端都可以直接从共享内存中读取属性。这提高了读取性能。</p></div><a class="article-more button is-small is-size-7" href="/2023/11/30/ANDROID%20property%20%E5%8F%82%E6%95%B0%E7%AE%80%E4%BB%8B/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-11-30T09:27:44.013Z" title="11/30/2023, 5:27:44 PM">2023-11-30</time>发表</span><span class="level-item"><time dateTime="2023-11-30T09:27:44.013Z" title="11/30/2023, 5:27:44 PM">2023-11-30</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android%E6%8A%80%E6%9C%AF/">Android技术</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/11/30/Makefile%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">Makefile基本语法</a></p><div class="content"><h2 id="Makefile-通过-文件生成时间-来判断文件是否有被修改过-，-进而判断文件是否需要重新编译"><a href="#Makefile-通过-文件生成时间-来判断文件是否有被修改过-，-进而判断文件是否需要重新编译" class="headerlink" title="Makefile 通过 文件生成时间 来判断文件是否有被修改过 ， 进而判断文件是否需要重新编译"></a>Makefile 通过 文件生成时间 来判断文件是否有被修改过 ， 进而判断文件是否需要重新编译</h2><ol>
<li>如果工程没有被编译过，则所有C文件编译并被链接</li>
<li>若工程中某几个文件被修改，则单独编译这几个文件，并重新链接</li>
<li>若头文件.h 被修改</li>
</ol></div><a class="article-more button is-small is-size-7" href="/2023/11/30/Makefile%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/#more">阅读更多</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-11-30T07:53:37.844Z" title="11/30/2023, 3:53:37 PM">2023-11-30</time>发表</span><span class="level-item"><time dateTime="2023-11-30T07:53:37.844Z" title="11/30/2023, 3:53:37 PM">2023-11-30</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Android%E6%8A%80%E6%9C%AF/">Android技术</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/11/30/AudioTrack%E6%A6%82%E8%BF%B0/">AudioTrack概述</a></p><div class="content"><p> AudioTrack类用来管理、播放单个音频资源，它只能播放PCM数据，其他音频格式（aac、amr、opus、flac等）需要经过解码成PCM才能使用。</p>
<h2 id="运行模式"><a href="#运行模式" class="headerlink" title="运行模式"></a>运行模式</h2><p>AudioTrack可以运行两种模式：</p>
<blockquote>
<p>流模式<br>静态模式</p>
</blockquote></div><a class="article-more button is-small is-size-7" href="/2023/11/30/AudioTrack%E6%A6%82%E8%BF%B0/#more">阅读更多</a></article></div>